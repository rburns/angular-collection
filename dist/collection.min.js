"use strict";angular.module("collection",[]).factory("collection",["indexOfObj","clone","$parse",function(a,b){function c(){return o(b(this))}function d(a){return this.length=0,this.put(a)}function e(a,b,c){var d;if(angular.isArray(a)&&(c=b),c)return this.not(c.clone().inc(a,b));if(angular.isArray(a))return f(this,a,c);for(d=this.length;d--;)this[d][a]===b&&this.splice(d,1);return this}function f(a,b,c){return b.forEach(function(b){a.exc(b[0],b[1],c)}),a}function g(a,b,c){if(angular.isArray(a)?c=b:a=[[a,b]],c)return this.int(c.clone().inc(a));for(var d=this.length;d--;)h(this[d],a)&&this.splice(d,1);return this}function h(a,b){return b.reduce(function(b,c){return b=angular.isArray(a[c[0]])?b&&-1===a[c[0]].indexOf(c[1]):b&&a[c[0]]!==c[1]},!0)}function i(b){if(angular.isArray(b))return j(this,b);var c=a(this,"key",b);return-1===c?void 0:this[c]}function j(a,b){var c,d=o();return b.forEach(function(b){(c=a.get(b))&&d.push(c)}),d}function k(b){if(angular.isArray(b))return l(this,b);var c=a(this,"key",b.key);return-1===c?this.push(b):this.splice(c,1,b),this}function l(a,b){return b.forEach(a.put),a}function m(a){return this.inc(a.map(function(a){return["key",a.key]}))}function n(a){return this.exc(a.map(function(a){return["key",a.key]}))}function o(a){var b=a||[];return b.clone=c.bind(b),b.get=i.bind(b),b.put=k.bind(b),b.set=d.bind(b),b.inc=g.bind(b),b.exc=e.bind(b),b.int=m.bind(b),b.not=n.bind(b),b}return o}]).factory("indexOfObj",[function(){return function(a,b,c){for(var d=a.length;d--;)if(a[d]&&a[d][b]===c)return d;return-1}}]).factory("clone",[function(){return function(a){return a.reduce(function(a,b){return a.push(b),a},[])}}]);